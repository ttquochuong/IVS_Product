@using DTO.Product;
@model IVS_QuocHuong.Model.CategorySearch
@using PagedList.Mvc;
@{
    Layout = "~/Views/Shared/_Layout.cshtml";
}
<div class="row">
    <div class="col-xs-12">
     
        <h3 class="header smaller lighter blue">
            <div class="row">
                <div class="col-xs-10">
                    Search item
                </div>
                <div class="col-xs-2">
                    <Button class="btn btn-sm btn-primary" onclick="location.href='@Url.Action("CategoryAdd", "Category")'">
                        Add category
                    </Button>
                </div>
            </div>
        </h3>
        @using (Html.BeginForm("CategorySearch", "Category", FormMethod.Get))
            {
            @Html.ValidationSummary(false);
         
            <div class="form-group row">
                <div class="col-sm-2">
                </div>
                <div class="col-sm-1">
                    <label>Code</label>
                </div>
                <label></label>
                <div class="col-sm-2">
                    @Html.TextBoxFor(Model => Model.CategoryCode)
                </div>

                <div class="col-sm-1">
                    <label>Name</label>
                </div>
                <div class="col-sm-2">
                    @Html.TextBoxFor(Model => Model.CategoryName)
                </div>

                <div class="col-sm-2">
                    <button type="submit" name="SearchButton" value="Search" class="btn btn-sm btn-pink">Search</button>
                </div>
            </div>
        }
        <div class="clearfix">
            <div class="pull-right tableTools-container"></div>
        </div>

        <!-- div.table-responsive -->
        <!-- div.dataTables_borderWrap -->
        <div>
@if (Model.SearchResults != null && Model.SearchResults.Count > 0)
{

    using (Html.BeginForm("CategoryDeleteMulti", "Category", FormMethod.Post))
    {

        <h3 class="header smaller lighter blue">List of Caterogy</h3>
            <div class="table-header">
                @Html.DisplayFor(Model => Model.PageCount)  row(s) found!
            </div>
            <table id="dynamic-table" class="table table-striped table-bordered table-hover">
                <thead>
                    <tr>
                        <th class="center">
                            <label class="pos-rel">
                                <input type="checkbox" class="ace" name="select-all" id="select-all" />
                                <span class="lbl"></span>
                            </label>
                        </th>       
                        <th class="hidden-380">Code</th>
                        <th class="hidden-380">Name</th>
                        <th class="hidden-480">Parent</th>
                        <th class="hidden-480">Description</th>
                        <th class="hidden-380">
                           
                        </th>
                    </tr>
                </thead>

                <tbody>
                    @if (Model != null)
                    {
                        foreach (CategoryDTO item in Model.SearchResults)
                        {
                            <tr>
                                <td class="center">
                                    <label class="pos-rel">
                                        <input type="checkbox" class="ace" name="CategoryID" id="CategoryID" value="@item.id"/>
                                        <span class="lbl"></span>
                                    </label>
                                </td>
                         
                                <td>
                                    <a href="#">@item.code</a>
                                </td>
                                <td class="hidden-480">
                                    @item.name
                                </td>
                                <td class="hidden-480">
                                    @item.parent_name
                                </td>
                                <td class="hidden-480">
                                    @item.description
                                </td>

                                <td>
                                    <div class="hidden-sm hidden-xs action-buttons">
                                        <a class="blue" href="@Url.Action("CategoryAdd", "Category")">
                                            <i class="ace-icon fa fa-search-plus bigger-130"></i>
                                        </a>

                                        <a class="green" href="@Url.Action("CategoryUpdate", "Category", new { @id = @item.id })">
                                            <i class="ace-icon fa fa-pencil bigger-130"></i>
                                        </a>

                                        <a class="red"  href="@Url.Action("CategoryDelete", "Category", new { @id = @item.id })">
                                            <i class="ace-icon fa fa-trash-o bigger-130"></i>
                                        </a>
                                    </div>

                                    <div class="hidden-md hidden-lg">
                                        <div class="inline pos-rel">
                                            <button class="btn btn-minier btn-yellow dropdown-toggle" data-toggle="dropdown" data-position="auto">
                                                <i class="ace-icon fa fa-caret-down icon-only bigger-120"></i>
                                            </button>

                                            <ul class="dropdown-menu dropdown-only-icon dropdown-yellow dropdown-menu-right dropdown-caret dropdown-close">
                                                <li>
                                                    <a href="#" class="tooltip-info" data-rel="tooltip" title="View">
                                                        <span class="blue">
                                                            <i class="ace-icon fa fa-search-plus bigger-120"></i>
                                                        </span>
                                                    </a>
                                                </li>

                                                <li>
                                                    <a href="#" class="tooltip-success" data-rel="tooltip" title="Edit">
                                                        <span class="green">
                                                            <i class="ace-icon fa fa-pencil-square-o bigger-120"></i>
                                                        </span>
                                                    </a>
                                                </li>

                                                <li>
                                                    <a href="#" class="tooltip-error" data-rel="tooltip" title="Delete">
                                                        <span class="red">
                                                            <i class="ace-icon fa fa-trash-o bigger-120"></i>
                                                        </span>
                                                    </a>
                                                </li>
                                            </ul>
                                        </div>
                                    </div>
                                </td>
                            </tr>
                        }
                        <tr>
                            <td colspan="5">
                                <div class="hidden-sm hidden-xs action-buttons">
                                    <button type="submit" class="btn btn-danger"><i class="ace-icon glyphicon glyphicon-remove" onclick="return ConfirmDelete()"></i>Delete</button>
                                </div>
                            </td>
                        </tr>
                    }
                </tbody>
            </table>
        }
            <div>
                @Html.PagedListPager(Model.SearchResults,
   page => Url.Action("CategorySearch", new RouteValueDictionary()
   {
               { "Page", page },
               { "CategoryName", Model.CategoryName },
               { "CategoryCode", Model.CategoryCode },
               { "CategoryParent",Model.CategoryParent }

   })
 )
            </div>
}
        </div>
    </div>
</div>
<script src="~/Content/js/jquery-2.1.4.min.js"></script>
<script type="text/javascript">
  function ConfirmDelete()
  {
      var reply = confirm("Are you sure you want to delete this?");
      if(reply)
      {
         return true;
      }
      else
      {
         return false;
      }
  }
  $('#select-all').click(function(event) {
      if(this.checked) {
          $(':checkbox').prop('checked', true);
      } else {
          $(':checkbox').prop('checked', false);
      }
  });
</script>






